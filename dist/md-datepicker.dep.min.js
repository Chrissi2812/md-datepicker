var id=0;(function(t,e,a,s){t.fn.a=function(n){"use strict";function i(t){return a.createElementNS(V,t)}function d(t,e,a,s,n){return'<div class="lolliclock-tick" style="left:'+(t+Math.sin(e)*(B*n)-a).toFixed(2)+"px;top:"+(t-Math.cos(e)*(B*n)-a).toFixed(2)+'px">'+s+"</div>"}id++;var r=false;this.each(function(){if(this.b)r=true});if(r)return;var o={c:null,d:"light",e:false,f:1,g:false,h:null,i:null,j:null,k:false,l:null,m:true,n:"string",o:""},l="ontouchstart"in e,c="mousedown"+(l?" touchstart":""),p="mousemove.lolliclock"+(l?" touchmove.lolliclock":""),m="mouseup.lolliclock"+(l?" touchend.lolliclock":""),h=new Date,u=t.extend({},o,n),v=[0,1,2,3,4,5,6],f=v.splice(-u.f),v=f.concat(v);u.c=u.c?u.c:navigator.c||navigator.userLanguage;h.setSeconds(0);if(u.l){var A=u.l.match(/\W/),g=u.l.split(" ")[0].split(A).reverse();t.each(u.l.split(" ")[1].split(":"),function(t,e){g.push(e)})}for(var k=0,b,K=[];k<7;k++){b=new Date(2015,1,k);K[b.p()]=b.toLocaleString(u.c,{q:"short"}).replace(".","")}f=K.splice(0,u.f);var w=K.concat(f),y="",C="";t.each(w,function(t,e){C+="<span>"+e+"</span>"});for(var k=0,b,x=[],T="";k<12;k++){b=new Date(2015,k,1);x[k]=b.toLocaleString(u.c,{r:"long"});T+='<span data-month="'+k+'">'+x[k]+"</span>"}for(var k=0,b,M="",D=h.p(1);k<100;k++){M+="<span>"+(D-k)+"</span>"}var E=t(this);E.each(function(){var e=this.cloneNode(true);e.s="hidden";e.t="";e.u=this;this.v=true;e.w=this.w+"-timestamp";if(u.n=="timestamp"){this.name=""}else{e.name=""}this.x=e;this.parentNode.appendChild(e);this.y=function(t){if(this.z!=""){this.x.z=moment(this.z,u.l).unix();this.A=new Date(moment(this.z,u.l).unix())}else{this.x.z=0;this.x.A=s}};this.x.y=function(a){var n=Number(this.z*1e3),i=e.u.y;e.u.y=null;if(this.z==""){e.u.z="";e.u.A=s}else{e.u.z=moment(n).l(u.l);e.u.A=new Date(n)}t(e.u).change();e.u.y=i}});for(var k=1;k<=31;k++){y+="<span>"+k+"</span>"}if(u.e){for(var k=a.styleSheets.length-1;k>=0;k--){if(a.styleSheets[k].href&&a.styleSheets[k].href.indexOf("md-datepicker")>0){var S=a.styleSheets[k].cssRules;for(var k=S.length-1;k>=0;k--){if(S[k].selectorText==".md-clock"){var I=parseInt(S[k].style.height)}}}}var z=I/2,B=z-32,N=20,Y=z*2,L=350;var _=u.k?25:13;for(var k=1,P="",U;k<_;k++){U=k/6*Math.PI;if(u.k&&k<13){P+=d(z,U,N,k,.6)}else{P+=d(z,U,N,k,1)}}for(var k=0,X="",U;k<60;k+=5){U=k/30*Math.PI;X+=d(z,U,N,k.B(2),1)}var H=""+'<div class="md-datepicker-timeview">'+'<div class="md-datepick-header">'+'<div class="md-datepicker-headline">'+'<span class="md-hour"></span>'+":"+'<span class="md-minute"></span>'+'<div class="md-ampm-toggle">'+'<span class="md-am">AM</span>'+'<span class="md-pm">PM</span>'+"</div>"+"</div>"+'<i class="md-toggle-state no-hover">event</i>'+"</div>"+'<div class="md-clock">'+'<div class="md-hours">'+P+"</div>"+'<div class="md-minutes">'+X+"</div>"+"</div>"+"</div>",V="http://www.w3.org/2000/svg";var W=i("svg");W.setAttribute("class","lolliclock-svg");W.setAttribute("width",Y);W.setAttribute("height",Y);var F=i("g");F.setAttribute("transform","translate("+z+","+z+")");var G=i("circle");G.setAttribute("class","lolliclock-bearing");G.setAttribute("cx",0);G.setAttribute("cy",0);G.setAttribute("r",5);var J=i("line");J.setAttribute("x1",0);J.setAttribute("y1",0);var $=i("circle");$.setAttribute("class","lolliclock-canvas-bg");$.setAttribute("r",20);var O=i("circle");O.setAttribute("class","lolliclock-canvas-fg");O.setAttribute("r",3.5);F.appendChild(J);F.appendChild($);F.appendChild(O);F.appendChild(G);W.appendChild(F);var R=function(e){var s=lt.offset(),n=/^touch/.test(e.s),i=s.C+z,d=s.D+z,r=(n?e.originalEvent.touches[0]:e).pageX-i,o=(n?e.originalEvent.touches[0]:e).pageY-d,l=Math.sqrt(r*r+o*o),c=false;if(l<B-N||l>B+N){return}e.preventDefault();t(a.body).addClass("lolliclock-moving");lt.append(self.F);q(r,o);t(a).off(p).on(p,function(t){t.preventDefault();var e=/^touch/.test(t.s),a=(e?t.originalEvent.touches[0]:t).pageX-i,s=(e?t.originalEvent.touches[0]:t).pageY-d;if(!c&&a===r&&s===o){return}c=true;q(a,s)});t(a).off(m).on(m,function(e){e.preventDefault();var s=/^touch/.test(e.s),n=(s?e.originalEvent.changedTouches[0]:e).pageX-i,l=(s?e.originalEvent.changedTouches[0]:e).pageY-d;if(n===r&&l===o){q(n,l)}if(ot.G==="hours"){et(true)}else if(u.g){}t(a.body).removeClass("lolliclock-moving");t(a).off(p);t(a).off(m)})}}var j='<div class="md-datepicker md-'+u.d.split(" ").join(" md-")+(u.m=="all"||u.m=="inout"||u.m?" md-datepicker-animated":"")+(u.o!=""?" "+u.o:"")+'" id="md-datepicker-'+id.B(3)+'">'+'<div class="md-datepicker-views">'+'<div class="md-datepicker-dateview">'+'<div class="md-datepick-header">'+"<div>"+'<span class="year"></span>'+"</div>"+'<div class="md-datepicker-headline">'+'<span class="weekday"></span><span class="day"></span> <span class="month"></span>'+"</div>"+(u.e?'<i class="md-toggle-state no-hover">access_time</i>':"")+"</div>"+'<div class="md-datepick-month">'+'<i class="md-previous md-touchtarget no-hover">navigate_before</i><i class="md-next md-touchtarget no-hover">navigate_next</i>'+"</div>"+'<div class="md-months">'+'<div class="md-previous-month md-month">'+'<div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div>'+'<div class="md-weekday">'+C+"</div>"+'<div class="md-week">'+y+"</div>"+"</div>"+'<div class="md-current-month md-month">'+'<div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div>'+'<div class="md-weekday">'+C+"</div>"+'<div class="md-week">'+y+"</div>"+"</div>"+'<div class="md-next-month md-month">'+'<div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div>'+'<div class="md-weekday">'+C+"</div>"+'<div class="md-week">'+y+"</div>"+"</div>"+"</div>"+'<div class="month-select md-select-wrap">'+T+"</div>"+'<div class="year-select md-select-wrap">'+M+"</div>"+"</div>"+(u.e?H:"")+"</div>"+'<div class="md-buttons">'+'<div class="md-button-flat button-delete">LÃ¶schen</div>'+'<div class="md-button-flat button-cancel">Abbrechen</div>'+'<div class="md-button-flat button-ok">OK</div>'+"</div>"+"</div>";var q=function(e,a){var s=Math.atan2(-e,a)+Math.PI;var n=ot.G==="hours";var i=Math.PI/(n?6:30);var d;d=Math.round(s/i);s=d*i;if(n){if(d===0){d=12}ot.I.style.H="hidden";ot.K.J.text(ot.hasClass("pm")?d+12==24?12:(d+12).B(2):d==12?"00":d.B(2));ot.A.setHours(ot.K.J.text())}else{var r=d%5===0;if(r){ot.I.style.H="hidden"}else{ot.I.style.H="visible"}if(d===60){d=0}ot.K.L.text(d.B(2));ot.A.setMinutes(ot.K.L.text())}var o=ot.G=="hours"?ot.N.M:ot.N.O;o.each(function(e,a){t(a).toggleClass("active",t(a).text()==d)});ot.p.insertBefore(ot.P,ot.Q);ot.p.insertBefore(ot.R,ot.I);ot.R.setAttribute("class","lolliclock-canvas-bg");var l=Math.sin(s)*B,c=-Math.cos(s)*B;ot.P.setAttribute("x2",Math.sin(s)*(B-N));ot.P.setAttribute("y2",-Math.cos(s)*(B-N));ot.R.setAttribute("cx",l);ot.R.setAttribute("cy",c);ot.I.setAttribute("cx",l);ot.I.setAttribute("cy",c)};var Q=function(a){var s=t(a).offset(),n=ot.width(),i=ot.height();s.D=s.D+i+8>=e.innerHeight?e.innerHeight-i-8:s.D;s.C=s.C+n+8>=e.innerWidth?e.innerWidth-n-8:s.C;return s};this.S=function(a){var n=a.z!=""?u.l?moment(a.z,u.l):moment(a.z):moment(),i=Q(a);ot.A=new Date(n);ot.T=ot.U==a?"start":"end";ot.A=isNaN(ot.A.getTime())?new Date:ot.A;ot.V=it();ot.K.W.removeClass("disabled");dt("current");dt("previous");dt("next");tt();if(u.m){ot.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){ot.addClass("animate");ot.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd")});if(ot.hasClass("clockpicker")){ot.removeClass("clockpicker");ot.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",".md-datepicker-views",function(e){e.preventDefault();t(ot).css({D:i.D,C:i.C}).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd")})}else{t(ot).css({D:i.D,C:i.C}).addClass("md-datepicker-visible")}}else{t(ot).css({D:i.D,C:i.C}).addClass("md-datepicker-visible")}ot.K.X.off();ot.K.X.on("click",".button-ok",function(e){e.preventDefault();if(t(a).is("[type=date]")){t(a).val(ot.A.p(1)+"-"+(ot.A.p(2)+1).B(2)+"-"+ot.A.p(3).B(2)).change()}else if(u.l){t(a).val(moment(ot.A).l(u.l)).change()}else if(u.e){t(a).val(ot.A.toLocaleString()).change()}else{t(a).val(ot.A.toLocaleDateString()).change()}ot[ot.T].A=ot.A;a.A=ot.A;Z(a)});ot.K.X.on("click",".button-delete",function(e){e.preventDefault();a.A=s;t(a).val("").change();Z(a)});ot.K.X.children(".button-delete").toggleClass("disabled",a.z=="");ot.K.X.on("click",".button-cancel",function(t){t.preventDefault();Z(a)});var d;t(e).on("resize",function(t){clearTimeout(d);i=Q(a);ot.css({D:i.D,C:i.C}).removeClass("animate");d=setTimeout(function(){ot.addClass("animate")},100)})};var Z=function(a){t(a).removeClass("focused");ot.removeClass("clockpicker md-datepicker-visible animate");ot.K.X.off();t(e).off("resize")};var tt=function(){if(ot.V){var e=ot.T=="start"?"end":"start";var a=t(".md-select-wrap>span:matches("+ot[e].A.p(1)+")");if(ot.U.A&&ot.U.A.p(1)==ot.A.p(1)&&e=="start"||ot.Y.A&&ot.Y.A.p(1)==ot.A.p(1)&&e=="end"){t(ot.K.W[ot.T=="start"|0]).toggleClass("disabled",ot[e].A.p(2)==ot.A.p(2));a.push(t(".md-select-wrap>span[data-month="+ot[e].A.p(2)+"]")[0])}ot.find(".md-select-wrap>span").removeClass("disabled");if(ot.T=="end"){t(a[1]).prevAll().addClass("disabled");t(a[0]).nextAll().addClass("disabled")}else{t(a[0]).prevAll().addClass("disabled");t(a[1]).nextAll().addClass("disabled")}}ot.K.Z.text(ot.A.toLocaleString(u.c,{r:"long"}));ot.K.$.text(ot.A.p(1));ot.K._.text(ot.A.p(3));ot.K.q.text(ot.A.toLocaleString(u.c,{q:"short"}).replace(".",""));if(u.e){ot.removeClass("minute");ot.G="hours";ot.toggleClass("pm",ot.A.p(4)>=12);ot.K.J.text(ot.A.p(4).B(2));ot.K.L.text(ot.A.p(5).B(2));var s=ot.A.p(4)*(Math.PI/6),n=Math.sin(s)*B,i=-Math.cos(s)*B;q(n,i)}};var et=function(e){ot.toggleClass("minute",!t(e.target).is(".md-hour"));ot.G=!t(e.target).is(".md-hour")?"minutes":"hours";var a=(!t(e.target).is(".md-hour")?ot.K.L.text():ot.K.J.text())*(Math.PI/(ot.G==="hours"?6:30)),s=Math.sin(a)*B,n=-Math.cos(a)*B;q(s,n)};var at=function(e){var a=e=="year"?t(".md-select-wrap>span:matches("+ot.A.p(1)+")"):t(".md-select-wrap>span[data-month="+ot.A.p(2)+"]");if(!a.length){var s=ot.A.p(1)-Number(ot.K.aa.children(":first-child").text());for(var n=1,i=Number(ot.K.aa.children(":first-child").text());n<=s;n++){ot.K.aa.prepend("<span>"+(i+n)+"</span>")}a=t(".md-select-wrap>span:matches("+ot.A.p(1)+")")}var d=a.position().D;ot.K["select_"+e].children("span").removeClass("md-currentdate");if(e=="year")t(".md-select-wrap>span:matches("+ot.A.p(1)+")").addClass("md-currentdate");else t(".md-select-wrap>span[data-month="+ot.A.p(2)+"]").addClass("md-currentdate");ot.K["select_"+e].addClass("inview animate");ot.K["select_"+e].stop().animate({ba:d+ot.K["select_"+e][0].ba-(ot.K["select_"+e][0].clientHeight-48)/2},parseInt(Math.abs(d.ca(0,2e3,500,3e3))),"easeInOutExpo");ot.K["select_"+e].on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){ot.K["select_"+e].removeClass("animate")});ot.K["select_"+e].on("mousewheel",function(t){ot.K["select_"+e].stop()})};var st=function(t){var e=ot.V?t=="next"?ot.T=="start"&&ot.A.p(2)<ot.Y.A.p(2)||ot.T=="start"&&ot.A.p(1)!=ot.Y.A.p(1)||ot.T=="end":ot.T=="end"&&ot.A.p(2)>ot.U.A.p(2)||ot.T=="end"&&ot.A.p(1)!=ot.U.A.p(1)||ot.T=="start":true;var a=ot.T=="start"?"end":"start";if(e){ot.K.W.off("click");ot.K.da.addClass("animate "+t);if(t=="next"){ot.A.setMonth(ot.A.p(2)+1)}else{ot.A.setMonth(ot.A.p(2)-1)}if(ot.V&&ot.T=="start"&&ot.Y.A<=ot.A||ot.V&&ot.T=="end"&&ot.U.A>=ot.A){ot.A=new Date(ot[a].A);nt()}tt();ot.K.da.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){ot.K.ea.html(ot.K[t].html());ot.K.da.removeClass("animate "+t);dt("next");dt("previous");ot.K.da.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");ot.K.W.on("click",rt)})}};var nt=function(){var t=["next","previous"];for(var e=t.length-1;e>=0;e--){console.log(ot.K[t[e]]);ot.K[t[e]].find(".md-selecteddate").removeClass("md-selecteddate");ot.K[t[e]].find("span:matches("+ot.A.p(3)+")").addClass("md-selecteddate")}};function it(){if(ot.U&&ot.Y){return ot.A!=s&&ot[ot.T=="start"?"Y":"U"].A!=s}else return false}var dt=function(t){var e=ot.A.p(2),a=new Date(ot.A),s,n="",i;if(t=="previous"){a.setMonth(e-1)}else if(t=="next"){a.setMonth(e+1)}s=v[startDay(a)];var d=daysInMonth(a);for(var r=u.f;r<s+u.f;r++){n+="<span></span>"}var o=h.p(2)==a.p(2)&&h.p(1)==a.p(1),l=ot.T=="start"?"end":"start";if(ot.V)var c=a.p(2)==ot[l].A.p(2)&&a.p(1)==ot[l].A.p(1);for(var r=1;r<=d;r++){i=[];if(ot.A.p(3)==r)i.push("md-selecteddate");if(h.p(3)==r&&o)i.push("md-currentdate");if(ot.V&&ot.T=="start"&&r>ot.Y.A.p(3)&&c||ot.V&&ot.T=="end"&&r<ot.U.A.p(3)&&c)i.push("disabled");n+="<span"+(i.length>=1?' class="'+i.join(" ")+'"':"")+" >"+r+"</span>"}ot.K[t].find(".md-month-display").text(a.toLocaleString(u.c,{r:"long"}));ot.K[t].find(".md-year-display").text(a.p(1));ot.K[t].find(".md-week").html(n)};function rt(){st(this.t.split(" ")[0].split("-")[1])}var ot=t(j).appendTo("body");ot.K={};if(u.e){var lt=ot.find(".md-clock");lt.append(W);ot.P=J;ot.R=$;ot.I=O;ot.Q=G;ot.p=F;ot.F=lt;ot.N={};ot.N.O=ot.F.find(".md-minutes>div");ot.N.M=ot.F.find(".md-hours>div");ot.K.J=ot.find(".md-hour");ot.K.L=ot.find(".md-minute");ot.K.fa=ot.find(".md-ampm-toggle");ot.G="hours";lt.on(c,R)}ot.K.$=ot.find(".year");ot.K.Z=ot.find(".month");ot.K._=ot.find(".day");ot.K.X=ot.find(".md-buttons");ot.K.q=ot.find(".weekday");ot.K.da=ot.find(".md-months");ot.K.ea=ot.find(".md-current-month");ot.K.ga=ot.find(".md-next-month");ot.K.W=ot.find(".md-next").add(ot.find(".md-previous"));ot.K.ha=ot.find(".month-select");ot.K.aa=ot.find(".year-select");ot.K.ia=ot.find(".md-previous-month");ot.K.W.on("click",rt);ot.on("click",".month-select>span, .year-select>span",function(e){if(t(this).data("month")===s){ot.A.setYear(t(this).text());ot.K["aa"].off()}else{ot.A.setMonth(t(this).data("month"));ot.K["ha"].off()}if(ot.V){if(ot.T=="start"&&ot.Y.A<=ot.A||ot.T=="end"&&ot.U.A>=ot.A){var a=ot.T=="start"?"end":"start";ot.A=new Date(ot[a].A)}}tt();dt("current");t(this).parents(".md-select-wrap").addClass("animate").removeClass("inview").off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");dt("previous");dt("next")});ot.K.Z.on("click",function(t){at("month")});ot.K.$.on("click",function(t){at("year")});ot.on("click",".md-week span",function(e){t(".md-selecteddate").removeClass("md-selecteddate");ot.K.da.find("span:matches("+t(this).text()+")").addClass("md-selecteddate");ot.A.setDate(t(this).text());tt()});ot.on("click",".md-toggle-state",function(t){ot.toggleClass("clockpicker",!ot.hasClass("clockpicker"))});ot.on("click",".md-minute, .md-hour",function(t){et(t)});ot.on("click",".md-pm, .md-am",function(e){ot.toggleClass("pm",!t(e.target).is(".md-am"));var a=parseInt(ot.K.J.text());a=ot.hasClass("pm")?a+12==24?12:a+12:a==0?0:a-12;ot.K.J.text(a.B(2));ot.A.setHours(a.B(2))});var ct=this,pt=[];return this.each(function(){this.b=true;t(this).on("focus",function(e){e.preventDefault();t(pt).removeClass("focused");t(e.target).addClass("focused");ct.S(e.target)});pt.push(this);if(t(this).is("[data-md-start]"))ot.U=this;if(t(this).is("[data-md-end]"))ot.Y=this}).promise().done(function(){ot.ja="ready";if(pt.length>2&&ot.U){throw new Error("Only one start and one end Date is allowed")}ot.ka=pt})};t.fn.a.la="1.4.1-dev"})(jQuery,window,document);function daysInMonth(t){return new Date(t.p(1),t.p(2)+1,0).p(3)}function startDay(t){return new Date(t.p(1),t.p(2),1).p()}Number.prototype.ca=function(t,e,a,s){return a+(this-t)*(s-a)/(e-t)};Date.prototype.p=function(t){return t==1?this.getFullYear():t==2?this.getMonth():t==4?this.getHours():t==5?this.getMinutes():t==3?this.getDate():this.getDay()};Number.prototype.B=function(t){var e=String(this);while(e.length<(t||2)){e="0"+e}return e};String.prototype.B=function(t){var e=String(this);while(e.length<(t||2)){e="0"+e}return e};$.expr[":"].ma=$.expr.createPseudo(function(t){return function(e){return $(e).text().match("^"+t+"$")}});
