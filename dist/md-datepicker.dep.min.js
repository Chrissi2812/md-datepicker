function n(t){return new Date(t.k().year,t.k().month+1,0).k().day}function o(t){return new Date(t.k().year,t.k().month,1).k().weekday}function e(){try{(new Date).toLocaleString("i")}catch(t){return"RangeError"===t.name}return!1}var a=0,t={en:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g:{h:"delete",i:"cancel"}},de:{month:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],weekday:["So","Mo","Di","Mi","Do","Fr","Sa"],g:{h:"Löschen",i:"Abrrechen"}}},s=["moz","ms","webkit","o"];!function($,r,i,d){function l(){var e=i.createElement("div").style;if(e.flex)return!0;for(var t=s.length-1;t>=0;t--)if(e[s[t]+"Flex"]!=d)return!0;return!1}$.fn.md_datepicker=function(vt){"use strict";function y(t){return i.createElementNS(ut,t)}function j(t,e,a,n,s){return'<div class="lolliclock-tick" style="left:'+(t+Math.sin(e)*(u*s)-a).toFixed(2)+"px;top:"+(t-Math.cos(e)*(u*s)-a).toFixed(2)+'px">'+n+"</div>"}function tt(){return s.start&&s.end?s.o!=d&&s["start"==s.set?"end":"start"].o!=d:!1}function Z(){ht(this.className.split(" ")[0].split("-")[1])}if(!l())return $(this).each(function(e,t){try{t.type="date"}catch(e){t.type="text"}});a++;var G=!1;if(this.each(function(){this.j&&(G=!0)}),!G){var nt={language:null,theme:"light",timepicker:!1,startday:1,autoclose:!1,mindate:null,maxdate:null,color:null,_24h:!1,format:null,animated:!0,submit:"string",custom_class:""},rt=e(),V="ontouchstart"in r,st="mousedown"+(V?" touchstart":""),K="mousemove.lolliclock"+(V?" touchmove.lolliclock":""),H="mouseup.lolliclock"+(V?" touchend.lolliclock":""),p="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",C=new Date,c=$.extend({},nt,vt),O=[0,1,2,3,4,5,6],L=O.splice(-c.startday),O=L.concat(O);if(c.language=c.language?c.language:navigator.language||navigator.userLanguage||"en",C.setSeconds(0),c.format){var kt=c.format.match(/\W/),at=c.format.split(" ")[0].split(kt).reverse();$.each(c.format.split(" ")[1].split(":"),function(e,t){at.push(t)})}if(rt){for(var x,m=0,J=[];7>m;m++)x=new Date(2015,1,m),J[x.k().weekday]=x.toLocaleString(c.language,{weekday:"short"}).replace(".","");for(var x,m=0,F=[];12>m;m++)x=new Date(2015,m,1),F[m]=x.toLocaleString(c.language,{month:"long"})}else var J=t[c.language.split("-")[0]].weekday.slice(0),F=t[c.language.split("-")[0]].month.slice(0);L=J.splice(0,c.startday);var ft=J.concat(L),A="",I="",z="";$.each(ft,function(e,t){I+="<span>"+t+"</span>"}),$.each(F,function(t,e){z+='<span data-month="'+t+'">'+F[t]+"</span>"});for(var x,m=1,B="",et=100,lt=C.k().year;et+2>m;m++)B+="<span>"+(lt-(m-(et+2)/2))+"</span>";var ct=$(this);ct.each(function(){var t=this.cloneNode(!0);t.type="hidden",t.className="",t.l=this,this.readOnly=!0,t.id=this.id+"-timestamp","timestamp"==c.submit?this.name="":t.name="",this.m=t,this.parentNode.appendChild(t),this.onchange=function(t){""!=this.value?(this.m.value=moment(this.value,c.format).unix(),this.o=new Date(moment(this.value,c.format).unix())):(this.m.value=0,this.m.o=d)},this.m.onchange=function(s){var e=Number(1e3*this.value),a=t.l.onchange;t.l.onchange=null,""==this.value?(t.l.value="",t.l.o=d):(t.l.value=moment(e).format(c.format),t.l.o=new Date(e)),$(t.l).change(),t.l.onchange=a}});for(var m=1;31>=m;m++)A+="<span>"+m+"</span>";if(c.timepicker){for(var m=i.styleSheets.length-1;m>=0;m--)if(i.styleSheets[m].href&&i.styleSheets[m].href.indexOf("md-datepicker")>0)for(var P=i.styleSheets[m].cssRules,m=P.length-1;m>=0;m--)if(".md-clock"==P[m].selectorText)var yt=parseInt(P[m].style.height);for(var D,h=yt/2,u=h-32,f=20,X=2*h,dt=c._24h?25:13,m=1,R="";dt>m;m++)D=m/6*Math.PI,R+=c._24h&&13>m?j(h,D,f,m,.6):j(h,D,f,m,1);for(var D,m=0,Y="";60>m;m+=5)D=m/30*Math.PI,Y+=j(h,D,f,m.pad(2),1);var mt='<div class="md-datepicker-timeview"><div class="md-datepick-header"><div class="md-datepicker-headline"><span class="md-hour"></span>:<span class="md-minute"></span><div class="md-ampm-toggle"><span class="md-am">AM</span><span class="md-pm">PM</span></div></div><i class="md-toggle-state no-hover">&#xE878</i></div><div class="md-clock"><div class="md-hours">'+R+'</div><div class="md-minutes">'+Y+"</div></div></div>",ut="http://www.w3.org/2000/svg",b=y("svg");b.setAttribute("class","lolliclock-svg"),b.setAttribute("width",X),b.setAttribute("height",X);var k=y("g");k.setAttribute("transform","translate("+h+","+h+")");var g=y("circle");g.setAttribute("class","lolliclock-bearing"),g.setAttribute("cx",0),g.setAttribute("cy",0),g.setAttribute("r",5);var T=y("line");T.setAttribute("x1",0),T.setAttribute("y1",0);var N=y("circle");N.setAttribute("class","lolliclock-canvas-bg"),N.setAttribute("r",20);var E=y("circle");E.setAttribute("class","lolliclock-canvas-fg"),E.setAttribute("r",3.5),k.appendChild(T),k.appendChild(N),k.appendChild(E),k.appendChild(g),b.appendChild(k);var ot=function(t){var r=w.offset(),d=/^touch/.test(t.type),n=r.left+h,o=r.top+h,e=(d?t.originalEvent.touches[0]:t).pageX-n,a=(d?t.originalEvent.touches[0]:t).pageY-o,l=Math.sqrt(e*e+a*a),m=!1;u-f>l||l>u+f||(t.preventDefault(),$(i.body).addClass("lolliclock-moving"),w.append(self.canvas),M(e,a),$(i).off(K).on(K,function(t){t.preventDefault();var s=/^touch/.test(t.type),i=(s?t.originalEvent.touches[0]:t).pageX-n,r=(s?t.originalEvent.touches[0]:t).pageY-o;(m||i!==e||r!==a)&&(m=!0,M(i,r))}),$(i).off(H).on(H,function(t){t.preventDefault();var r=/^touch/.test(t.type),d=(r?t.originalEvent.changedTouches[0]:t).pageX-n,l=(r?t.originalEvent.changedTouches[0]:t).pageY-o;d===e&&l===a&&M(d,l),"hours"===s.currentView?Q(!0):c.autoclose,$(i.body).removeClass("lolliclock-moving"),$(i).off(K),$(i).off(H)}))}}var it='<div class="md-datepicker md-'+c.theme.split(" ").join(" md-")+("all"==c.animated||"inout"==c.animated||c.animated?" md-datepicker-animated":"")+(""!=c.custom_class?" "+c.custom_class:"")+'" id="md-datepicker-'+a.pad(3)+'"><div class="md-datepicker-views"><div class="md-datepicker-dateview"><div class="md-datepick-header"><div><span class="year"></span></div><div class="md-datepicker-headline"><span class="weekday"></span><span class="day"></span> <span class="month"></span></div>'+(c.timepicker?'<i class="md-toggle-state no-hover">&#xE192;</i>':"")+'</div><div class="md-datepick-month"><i class="md-previous md-touchtarget no-hover">&#xE408;</i><i class="md-next md-touchtarget no-hover">&#xE409;</i></div><div class="md-months"><div class="md-previous-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+I+'</div><div class="md-week">'+A+'</div></div><div class="md-current-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+I+'</div><div class="md-week">'+A+'</div></div><div class="md-next-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+I+'</div><div class="md-week">'+A+'</div></div></div><div class="month-select md-select-wrap">'+z+'</div><div class="year-select md-select-wrap">'+B+"</div></div>"+(c.timepicker?mt:"")+'</div><div class="md-buttons"><div class="md-button-flat button-delete">'+t[c.language.split("-")[0]].g.h+'</div><div class="md-button-flat button-cancel">'+t[c.language.split("-")[0]].g.i+'</div><div class="md-button-flat button-ok">OK</div></div></div>',M=function(r,d){var t,e=Math.atan2(-r,d)+Math.PI,a="hours"===s.currentView,n=Math.PI/(a?6:30);if(t=Math.round(e/n),e=t*n,a)0===t&&(t=12),s.p.style.visibility="hidden",s.s.q.text(s.hasClass("pm")?t+12==24?12:(t+12).pad(2):12==t?"00":t.pad(2)),s.o.setHours(s.s.q.text());else{var l=t%5===0;l?s.p.style.visibility="hidden":s.p.style.visibility="visible",60===t&&(t=0),s.s.t.text(t.pad(2)),s.o.setMinutes(s.s.t.text())}var c="hours"==s.currentView?s.u.hours:s.u.minutes;c.each(function(a,e){$(e).toggleClass("active",$(e).text()==t)}),s.v.insertBefore(s.A,s.B),s.v.insertBefore(s.C,s.p),s.C.setAttribute("class","lolliclock-canvas-bg");var o=Math.sin(e)*u,i=-Math.cos(e)*u;s.A.setAttribute("x2",Math.sin(e)*(u-f)),s.A.setAttribute("y2",-Math.cos(e)*(u-f)),s.C.setAttribute("cx",o),s.C.setAttribute("cy",i),s.p.setAttribute("cx",o),s.p.setAttribute("cy",i)},W=function(n){var t=$(n).offset(),e=s.width(),a=s.height();return t.top=t.top+a+8>=r.innerHeight?r.innerHeight-a-8:t.top,t.left=t.left+e+8>=r.innerWidth?r.innerWidth-e-8:t.left,t};this.show=function(t){s.set=s.start==t?"start":"end";var n=""!=t.value?c.format?moment(t.value,c.format):moment(t.value):moment("start"==s.set?s.end.o:s.start.o),e=W(t);s.o=new Date(n),s.o=isNaN(s.o.getTime())?new Date:s.o,s.range=tt(),s.s.D.removeClass("disabled"),v("current"),v("previous"),v("next"),S(),c.animated?(s.on(p,function(){s.addClass("animate"),s.off(p)}),s.hasClass("clockpicker")?(s.removeClass("clockpicker"),s.on(p,".md-datepicker-views",function(t){t.preventDefault(),$(s).css({top:e.top,left:e.left}).off(p)})):$(s).css({top:e.top,left:e.left}).addClass("md-datepicker-visible")):$(s).css({top:e.top,left:e.left}).addClass("md-datepicker-visible"),s.s.buttons.off(),s.s.buttons.on("click",".button-ok",function(e){e.preventDefault(),$(t).is("[type=date]")?$(t).val(s.o.k().year+"-"+(s.o.k().month+1).pad(2)+"-"+s.o.k().day.pad(2)).change():c.format?$(t).val(moment(s.o).format(c.format)).change():c.timepicker?$(t).val(s.o.toLocaleString()).change():$(t).val(s.o.toLocaleDateString()).change(),s[s.set].o=s.o,t.o=s.o,q(t)}),s.s.buttons.on("click",".button-delete",function(e){e.preventDefault(),t.o=d,$(t).val("").change(),q(t)}),s.s.buttons.children(".button-delete").toggleClass("disabled",""==t.value),s.s.buttons.on("click",".button-cancel",function(e){e.preventDefault(),q(t)});var a;$(r).on("resize",function(n){clearTimeout(a),e=W(t),s.css({top:e.top,left:e.left}).removeClass("animate"),a=setTimeout(function(){s.addClass("animate")},100)})};var q=function(t){$(t).removeClass("focused"),s.removeClass("clockpicker md-datepicker-visible animate"),s.s.buttons.off(),$(r).off("resize")},S=function(){if(tt()){var t="start"==s.set?"end":"start",e=$(".md-select-wrap>span:matches("+s[t].o.k().year+")");(s.start.o&&s.start.o.k().year<=s.o.k().year&&"start"==t||s.end.o&&s.end.o.k().year>=s.o.k().year&&"end"==t)&&($(s.s.D["start"==s.set|0]).toggleClass("disabled",s.o.k().year==s[t].o.k().year&&s[t].o.k().month==s.o.k().month),s.o.k().year==s[t].o.k().year&&e.push($(".md-select-wrap>span[data-month="+s[t].o.k().month+"]")[0]),s.find(".md-select-wrap>span").removeClass("disabled"),"end"==s.set?($(e[1]).prevAll().addClass("disabled"),$(e[0]).nextAll().addClass("disabled")):($(e[0]).prevAll().addClass("disabled"),$(e[1]).nextAll().addClass("disabled")))}else s.find(".md-select-wrap>span").removeClass("disabled");if(s.s.F.text(s.o.G(c.language,{month:"long"})),s.s.H.text(s.o.k().year),s.s.I.text(s.o.k().day),s.s.weekday.text(s.o.G(c.language,{weekday:"short"}).replace(".","")),c.timepicker){s.removeClass("minute"),s.currentView="hours",s.toggleClass("pm",s.o.k().hours>=12),s.s.q.text(s.o.k().hours.pad(2)),s.s.t.text(s.o.k().minutes.pad(2));var a=s.o.k().hours*(Math.PI/6),n=Math.sin(a)*u,o=-Math.cos(a)*u;M(n,o)}},Q=function(t){s.toggleClass("minute",!$(t.target).is(".md-hour")),s.currentView=$(t.target).is(".md-hour")?"hours":"minutes";var e=($(t.target).is(".md-hour")?s.s.q.text():s.s.t.text())*(Math.PI/("hours"===s.currentView?6:30)),a=Math.sin(e)*u,n=-Math.cos(e)*u;M(a,n)},U=function(t){var e=$("year"==t?".md-select-wrap>span:matches("+s.o.k().year+")":".md-select-wrap>span[data-month="+s.o.k().month+"]");if(!e.length){for(var o=s.o.k().year-Number(s.s.select_year.children(":first-child").text()),a=1,i=Number(s.s.select_year.children(":first-child").text());o>=a;a++)s.s.select_year.prepend("<span>"+(i+a)+"</span>");e=$(".md-select-wrap>span:matches("+s.o.k().year+")")}var n=e.position().top;s.s["select_"+t].children("span").removeClass("md-currentdate"),"year"==t?$(".md-select-wrap>span:matches("+s.o.k().year+")").addClass("md-currentdate"):$(".md-select-wrap>span[data-month="+s.o.k().month+"]").addClass("md-currentdate"),s.s["select_"+t].addClass("inview animate"),s.s["select_"+t].stop().animate({scrollTop:n+s.s["select_"+t][0].scrollTop-(s.s["select_"+t][0].clientHeight-48)/2},parseInt(Math.abs(n.J(0,2e3,500,3e3))),"easeInOutExpo"),s.s["select_"+t].on(p,function(){s.s["select_"+t].removeClass("animate")}),s.s["select_"+t].on("mousewheel",function(e){s.s["select_"+t].stop()})},ht=function(t){var e=s.range?"next"==t?"start"==s.set&&s.o.k().month<s.end.o.k().month||"start"==s.set&&s.o.k().year!=s.end.o.k().year||"end"==s.set:"end"==s.set&&s.o.k().month>s.start.o.k().month||"end"==s.set&&s.o.k().year!=s.start.o.k().year||"start"==s.set:!0,a="start"==s.set?"end":"start";e&&(s.s.D.off("click"),s.s.K.addClass("animate "+t),"next"==t?s.o.setMonth(s.o.k().month+1):s.o.setMonth(s.o.k().month-1),(s.range&&"start"==s.set&&s.end.o<=s.o||s.range&&"end"==s.set&&s.start.o>=s.o)&&(s.o=new Date(s[a].o),pt()),S(),s.s.K.on(p,function(){s.s.current.html(s.s[t].html()),s.s.K.removeClass("animate "+t),v("next"),v("previous"),s.s.K.off(p),s.s.D.on("click",Z)}))},pt=function(){for(var e=["next","previous"],t=e.length-1;t>=0;t--)s.s[e[t]].find(".md-selecteddate").removeClass("md-selecteddate"),s.s[e[t]].find("span:matches("+s.o.k().day+")").addClass("md-selecteddate")},v=function(i){var d,a,l=s.o.k().month,t=new Date(s.o),r="";"previous"==i?t.setMonth(l-1):"next"==i&&t.setMonth(l+1),d=O[o(t)];for(var h=n(t),e=c.startday;e<d+c.startday;e++)r+="<span></span>";var p=C.k().month==t.k().month&&C.k().year==t.k().year,m="start"==s.set?"end":"start";if(s.range)var u=t.k().month==s[m].o.k().month&&t.k().year==s[m].o.k().year;for(var e=1;h>=e;e++)a=[],s.o.k().day==e&&a.push("md-selecteddate"),C.k().day==e&&p&&a.push("md-currentdate"),(s.range&&"start"==s.set&&e>s.end.o.k().day&&u||s.range&&"end"==s.set&&e<s.start.o.k().day&&u)&&a.push("disabled"),r+="<span"+(a.length>=1?' class="'+a.join(" ")+'"':"")+" >"+e+"</span>";s.s[i].find(".md-month-display").text(t.G(c.language,{month:"long"})),s.s[i].find(".md-year-display").text(t.k().year),s.s[i].find(".md-week").html(r)},s=$(it).appendTo("body");if(s.s={},c.timepicker){var w=s.find(".md-clock");w.append(b),s.A=T,s.C=N,s.p=E,s.B=g,s.v=k,s.canvas=w,s.u={},s.u.minutes=s.canvas.find(".md-minutes>div"),s.u.hours=s.canvas.find(".md-hours>div"),s.s.q=s.find(".md-hour"),s.s.t=s.find(".md-minute"),s.s.L=s.find(".md-ampm-toggle"),s.currentView="hours",w.on(st,ot)}s.s.H=s.find(".year"),s.s.F=s.find(".month"),s.s.I=s.find(".day"),s.s.buttons=s.find(".md-buttons"),s.s.weekday=s.find(".weekday"),s.s.K=s.find(".md-months"),s.s.current=s.find(".md-current-month"),s.s.next=s.find(".md-next-month"),s.s.D=s.find(".md-next").add(s.find(".md-previous")),s.s.select_month=s.find(".month-select"),s.s.select_year=s.find(".year-select"),s.s.previous=s.find(".md-previous-month"),s.s.D.on("click",Z),s.on("click",".month-select>span, .year-select>span",function(e){if($(this).data("month")===d?(s.o.setYear($(this).text()),s.s.select_year.off()):(s.o.setMonth($(this).data("month")),s.s.select_month.off()),s.range&&("start"==s.set&&s.end.o<=s.o||"end"==s.set&&s.start.o>=s.o)){var t="start"==s.set?"end":"start";s.o=new Date(s[t].o)}S(),v("current"),$(this).parents(".md-select-wrap").addClass("animate").removeClass("inview").off(p),v("previous"),v("next")}),s.s.F.on("click",function(t){U("month")}),s.s.H.on("click",function(t){U("year")}),s.on("click",".md-week span",function(t){$(".md-selecteddate").removeClass("md-selecteddate"),s.s.K.find("span:matches("+$(this).text()+")").addClass("md-selecteddate"),s.o.setDate($(this).text()),S()}),s.on("click",".md-toggle-state",function(t){s.toggleClass("clockpicker",!s.hasClass("clockpicker"))}),s.on("click",".md-minute, .md-hour",function(t){Q(t)}),s.on("click",".md-pm, .md-am",function(e){s.toggleClass("pm",!$(e.target).is(".md-am"));var t=parseInt(s.s.q.text());t=s.hasClass("pm")?t+12==24?12:t+12:0==t?0:t-12,s.s.q.text(t.pad(2)),s.o.setHours(t.pad(2))});var gt=this,_=[];return this.each(function(){this.j=!0,$(this).on("focus",function(t){t.preventDefault(),$(_).removeClass("focused"),$(t.target).addClass("focused"),gt.show(t.target)}),_.push(this),$(this).is("[data-md-start]")&&(s.start=this),$(this).is("[data-md-end]")&&(s.end=this)}).promise().done(function(){if(s.state="ready",_.length>2&&s.start)throw new Error("Only one start and one end Date is allowed");s.M=_})}}}(jQuery,window,document),Number.prototype.J=function(t,a,e,s){return e+(this-t)*(s-e)/(a-t)},Date.prototype.k=function(){return{year:this.getFullYear(),month:this.getMonth(),hours:this.getHours(),minutes:this.getMinutes(),day:this.getDate(),weekday:this.getDay()}},Date.prototype.G=function(s,a){return e()?this.toLocaleString(s,a):t[s.split("-")[0]][Object.keys(a)[0]][this.k()[Object.keys(a)]]},Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t},String.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t},$.expr[":"].matches=$.expr.createPseudo(function(t){return function(e){return $(e).text().match("^"+t+"$")}});
