function a(e){return new Date(e.l().year,e.l().month+1,0).l().day}function s(e){return new Date(e.l().year,e.l().month,1).l().weekday}function t(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}var e=0;locale={en:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],weekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g:{h:"delete",i:"cancel"}},de:{month:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],weekday:["So","Mo","Di","Mi","Do","Fr","Sa"],g:{h:"Löschen",i:"Abbrechen"}}},prefixes=["moz","ms","webkit","o"],function($,n,i,o){function r(){var t=i.createElement("div").style;if(t.flex!=o)return!0;for(var e=prefixes.length-1;e>=0;e--)if(t[prefixes[e]+"Flex"]!=o)return!0;return!1}$.fn.md_datepicker=function(z){"use strict";function q(e,t,a,n,s){return'<div class="lolliclock-tick" style="left:'+(e+Math.sin(t)*(p*s)-a).toFixed(2)+"px;top:"+(e-Math.cos(t)*(p*s)-a).toFixed(2)+'px">'+n+"</div>"}function P(){return l.start&&l.end?l.p!=o&&l["start"==l.set?"end":"start"].p!=o:!1}function K(){le(this.className.split(" ")[0].split("-")[1])}function pe(){l.toggleClass("pm",!l.hasClass("pm"));var e=parseInt(l.s.B.text());e=l.hasClass("pm")?e+12==24?12:e+12:0==e?0:e-12,l.s.B.text(e.pad(2)),l.p.setHours(e.pad(2))}moment();if(!r())return $(this).each(function(t,e){try{e.type="date"}catch(t){e.type="text"}});e++;var W=!1;if(this.each(function(){this.j&&(W=!0)}),!W){var me={language:null,theme:"light",k:!0,timepicker:!1,startday:1,autoclose:!1,mindate:null,maxdate:null,range:"past",_24h:!1,format:"YYYY-MM-DD",animated:!0,submit:"string",custom_class:""},ce=t(),B="ontouchstart"in n,he="mousedown"+(B?" touchstart":""),A="mousemove.lolliclock"+(B?" touchmove.lolliclock":""),Y="mouseup.lolliclock"+(B?" touchend.lolliclock":""),m="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",v=new Date,d=$.extend({},me,z),L=[0,1,2,3,4,5,6],O=L.splice(-d.startday),L=O.concat(L);if(d.language=d.language?d.language:navigator.language||navigator.userLanguage||"en",d.format=d.timepicker&&!z.format?"YYYY-MM-DD HH:mm":d.format,v.setSeconds(0),d.format){var R=d.format.match(/\W/),oe=d.timepicker?d.format.split(" ")[0].split(R).reverse():d.format.split(R).reverse();d.timepicker&&$.each(d.format.split(" ")[1].split(":"),function(t,e){oe.push(e)})}if(ce){for(var x,c=0,I=[];7>c;c++)x=new Date(2015,1,c),I[x.l().weekday]=x.toLocaleString(d.language,{weekday:"short"}).replace(".","");for(var x,c=0,N=[];12>c;c++)x=new Date(2015,c,1),N[c]=x.toLocaleString(d.language,{month:"long"})}else var I=locale[d.language.split("-")[0]].weekday.slice(0),N=locale[d.language.split("-")[0]].month.slice(0);O=I.splice(0,d.startday);var ie=I.concat(O),D="",M="",H="";$.each(ie,function(t,e){M+="<span>"+e+"</span>"}),$.each(N,function(e,t){H+='<span data-month="'+e+'">'+N[e]+"</span>"});var g=100,X=d.mindate&&d.mindate.search(/^[-+]/)?moment(d.mindate):moment().add(d.mindate,"y"),F=d.maxdate&&d.maxdate.search(/^[-+]/)?moment(d.maxdate):moment().add(d.maxdate,"y");d.mindate&&d.maxdate?(g=moment.duration(F-X).years(),d.range="calculated"):d.mindate&&"past"==d.range?g=moment.duration(v-X).years()+1:d.maxdate&&"future"==d.range&&(g=moment.duration(F-v).years());for(var x,c=0,ee="",E=d.range,T=v.l().year;g>=c;c++)ee+="<span>"+("future"==E?T+g-c:"past"==E?T-c:"calculated"==E?F.year()-c:T-(c-(g-g%2)/2))+"</span>";var ne=$(this);ne.each(function(){var e=i.createElement("input");e.type="hidden",e.className="",e.m=this,e.id=this.id+"-timestamp",this.readOnly=!0,"timestamp"==d.submit?this.name="":e.name="",this.o=e,this.parentNode.appendChild(e),this.onchange=function(e){""!=this.value?(this.o.value=moment(this.value,d.format).unix(),this.p=new Date(moment(this.value,d.format).unix())):(this.o.value=0,this.o.p=o)},this.o.onchange=function(s){var t=Number(1e3*this.value),a=e.m.onchange;e.m.onchange=null,""==this.value?(e.m.value="",e.m.p=o):(e.m.value=moment(t).format(d.format),e.m.p=new Date(t)),$(e.m).change(),e.m.onchange=a}});for(var c=1;31>=c;c++)D+="<span>"+c+"</span>";if(d.timepicker){var j=$('<div class="md-clock" style="visibility: hidden">').appendTo("body"),V=parseInt(j.height());j.remove();for(var k,h=V/2,p=h-32,f=20,se=d._24h?25:13,c=1,Z="";se>c;c++)k=c/6*Math.PI,Z+=d._24h&&13>c?q(h,k,f,c,.6):q(h,k,f,c,1);for(var k,c=0,G="";60>c;c+=5)k=c/30*Math.PI,G+=q(h,k,f,c.pad(2),1);var ae='<div class="md-datepicker-timeview"><div class="md-datepick-header"><div class="md-datepicker-headline"><span class="md-hour"></span>:<span class="md-minute"></span><div class="md-ampm-toggle"><span class="md-am">AM</span><span class="md-pm">PM</span></div></div><i class="md-toggle-state no-hover">&#xE878</i></div><div class="md-clock"><div class="md-hours">'+Z+'</div><div class="md-minutes">'+G+"</div></div></div>",b='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="lolliclock-svg" width="'+V+'" height="'+V+'" style="transform: rotateZ(0deg);"><g transform="translate('+h+","+h+')"><circle class="lolliclock-canvas-bg" r="'+f+'" cx="0" cy="-'+p+'"></circle><circle class="lolliclock-canvas-fg" r="3.5" cx="0" cy="-'+p+'" ></circle><line x1="0" y1="0" x2="0" y2="-'+(p-f)+'"></line><circle class="lolliclock-bearing" cx="0" cy="0" r="3.5"></circle></g></svg>',te=function(e){var r=y.offset(),c=/^touch/.test(e.type),s=r.left+h,n=r.top+h,t=(c?e.originalEvent.touches[0]:e).pageX-s,a=(c?e.originalEvent.touches[0]:e).pageY-n,m=Math.sqrt(t*t+a*a),o=!1;cssua.ua.ie||l.s.q.classList.remove("animate"),p-f>m||m>p+f||(e.preventDefault(),$(i.body).addClass("lolliclock-moving"),y.append(self.canvas),w(t,a),l.s.q.t=l.s.q.u,$(i).off(A).on(A,function(e){e.preventDefault(),cssua.ua.ie||l.s.q.classList.remove("animate");var i=/^touch/.test(e.type),r=(i?e.originalEvent.touches[0]:e).pageX-s,d=(i?e.originalEvent.touches[0]:e).pageY-n;(o||r!==t||d!==a)&&(o=!0,w(r,d))}),$(i).off(Y).on(Y,function(e){e.preventDefault();var r=/^touch/.test(e.type),c=(r?e.originalEvent.changedTouches[0]:e).pageX-s,m=(r?e.originalEvent.changedTouches[0]:e).pageY-n;c===t&&m===a&&w(c,m),"hours"===l.currentView?setTimeout(function(){Q(!0)},o?0:250):d.autoclose,$(i.body).removeClass("lolliclock-moving"),$(i).off(A),$(i).off(Y)}))}}var re='<div class="md-datepicker md-'+d.theme.split(" ").join(" md-")+("all"==d.animated||"inout"==d.animated||d.animated?" md-datepicker-animated":"")+(""!=d.custom_class?" "+d.custom_class:"")+'" id="md-datepicker-'+e.pad(3)+'"><div class="md-datepicker-views"><div class="md-datepicker-dateview"><div class="md-datepick-header"><div><span class="year"></span></div><div class="md-datepicker-headline"><span class="weekday"></span><span class="day"></span> <span class="month"></span></div>'+(d.timepicker?'<i class="md-toggle-state no-hover">&#xE192;</i>':"")+'</div><div class="md-datepick-month"><i class="md-previous md-touchtarget no-hover">&#xE408;</i><i class="md-next md-touchtarget no-hover">&#xE409;</i></div><div class="md-months"><div class="md-previous-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+M+'</div><div class="md-week">'+D+'</div></div><div class="md-current-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+M+'</div><div class="md-week">'+D+'</div></div><div class="md-next-month md-month"><div class="md-date-wrap"><span class="md-month-display"></span> <span class="md-year-display"></span></div><div class="md-weekday">'+M+'</div><div class="md-week">'+D+'</div></div></div><div class="month-select md-select-wrap">'+H+'</div><div class="year-select md-select-wrap">'+ee+"</div></div>"+(d.timepicker?ae:"")+'</div><div class="md-buttons"><div class="md-button-flat button-delete">'+locale[d.language.split("-")[0]].g.h+'</div><div class="md-button-flat button-cancel">'+locale[d.language.split("-")[0]].g.i+'</div><div class="md-button-flat button-ok">OK</div></div></div><div class="md-datepicker__overlay"></div>',w=function(p,r){var a=Math.atan2(-p,r)+Math.PI,t="hours"===l.currentView,o=Math.PI/(t?6:30),m=t?"minutes":"hours",s=l.p.l()[m]*(Math.PI/(t?30:6))*(180/Math.PI)%360,e=Math.round(a/o);parseFloat((a*(180/Math.PI)%360).toFixed(1));if(a=e*o,l.s.q.u=l.s.q.v-s>180?360+s:s,t)e=t&&0===e?12:e,l.A.style.visibility="hidden",l.s.B.text(l.hasClass("pm")?e+12==24?12:(e+12).pad(2):12==e?"00":e.pad(2)),l.p.setHours(l.s.B.text());else{var d=e%5===0;d?l.A.style.visibility="hidden":l.A.style.visibility="visible",60===e&&(e=0),l.s.C.text(e.pad(2)),l.p.setMinutes(l.s.C.text())}var c="hours"==l.currentView?l.D.hours:l.D.minutes;c.each(function(a,t){$(t).toggleClass("active",$(t).text()==e)});var n=a*(180/Math.PI)%360,i=l.s.q.u-n>180?360+n:n;$(l.s.q).css("transform","rotateZ("+i+"deg)"),l.s.q.v=i},J=function(t){var e=$(t).offset(),a=l.width(),s=l.height(),i=$(t).offset(),o=Math.min(n.innerHeight+n.pageYOffset,t.offsetParent.parentNode.getBoundingClientRect().height+t.offsetParent.parentNode.scrollTop),r=Math.max(n.innerWidth+n.pageXOffset,t.offsetParent.parentNode.getBoundingClientRect().width+t.offsetParent.parentNode.scrollLeft);return e.top=e.top+s+8>=o?o-s-8:n.pageYOffset+8>=e.top?n.pageYOffset+8:e.top,e.left=e.left+a+8>=r?r-a-8:n.pageXOffset+8>=e.left?n.pageXOffset+8:e.left,e.F=i.left-e.left+"px "+(i.top-e.top)+"px",e};this.show=function(t){l.set=l.start==t?"start":"end";var s=""!=t.value?d.format?moment(t.value,d.format):moment(t.value):moment(P()?"start"==l.set?l.end.p:l.start.p:""),e=J(t);l.p=new Date(s),l.p=isNaN(l.p.getTime())?new Date:l.p,l.range=P(),l.removeClass("invisible"),l.s.I.removeClass("disabled"),u("current"),u("previous"),u("next"),_(),d.animated?(l.on(m,function(){l.addClass("animate"),l.off(m)}),l.hasClass("clockpicker")?(l.removeClass("clockpicker"),l.on(m,".md-datepicker-views",function(t){t.preventDefault(),$(l).css({top:e.top,left:e.left,"transform-origin":e.F,J:e.F}).off(m)})):$(l).css({top:e.top,left:e.left,"transform-origin":e.F,J:e.F}).addClass("md-datepicker-visible")):$(l).css({top:e.top,left:e.left,"transform-origin":e.F,J:e.F}).addClass("md-datepicker-visible"),l.s.buttons.off(),l.s.buttons.on("click",".button-ok",function(e){e.preventDefault(),$(t).is("[type=date]")?$(t).val(l.p.l().year+"-"+(l.p.l().month+1).pad(2)+"-"+l.p.l().day.pad(2)).change():d.format?$(t).val(moment(l.p).format(d.format)).change():d.timepicker?$(t).val(l.p.toLocaleString()).change():$(t).val(l.p.toLocaleDateString()).change(),l[l.set].p=l.p,t.p=l.p,S(t)}),l.s.buttons.on("click",".button-delete",function(e){e.preventDefault(),t.p=o,$(t).val("").change(),S(t)}),l.s.buttons.children(".button-delete").toggleClass("disabled",""==t.value),l.s.buttons.on("click",".button-cancel",function(e){e.preventDefault(),S(t)});var a;$(n).on("resize.id"+l.K,function(s){clearTimeout(a),e=J(t),l.css({top:e.top,left:e.left,"transform-origin":e.F,J:e.F}).removeClass("animate"),a=setTimeout(function(){l.addClass("animate")},100)}),$(n).on("scroll.id"+l.K,function(s){clearTimeout(a),e=J(t),l.css({top:e.top,left:e.left,"transform-origin":e.F,J:e.F}).removeClass("animate"),a=setTimeout(function(){l.addClass("animate")},100)})};var S=function(e){$(e).removeClass("focused"),l.removeClass("clockpicker md-datepicker-visible animate"),l.s.buttons.off(),$(n).off("resize.id"+l.K),$(n).off("scroll.id"+l.K),l.on(m,function(e){e.preventDefault(),l.addClass("invisible"),l.off(m)})},_=function(){if(P()){var e="start"==l.set?"end":"start",t=l.s.select_year.find("span:matches("+l[e].p.l().year+")");(l.start.p&&l.start.p.l().year<=l.p.l().year&&"start"==e||l.end.p&&l.end.p.l().year>=l.p.l().year&&"end"==e)&&($(l.s.I["start"==l.set|0]).toggleClass("disabled",l.p.l().year==l[e].p.l().year&&l[e].p.l().month==l.p.l().month),l.p.l().year==l[e].p.l().year&&t.push(l.s.select_month.find("span[data-month="+l[e].p.l().month+"]")[0]),l.find(".md-select-wrap>span").removeClass("disabled"),"end"==l.set?($(t[1]).prevAll().addClass("disabled"),$(t[0]).nextAll().addClass("disabled")):($(t[0]).prevAll().addClass("disabled"),$(t[1]).nextAll().addClass("disabled")))}else l.find(".md-select-wrap>span").removeClass("disabled");if(l.s.L.text(l.p.M(d.language,{month:"long"})),l.s.years.text(l.p.l().year),l.s.N.text(l.p.l().day),l.s.weekday.text(l.p.M(d.language,{weekday:"short"}).replace(".","")),d.timepicker){l.removeClass("minute"),l.currentView="hours",l.toggleClass("pm",l.p.l().hours>=12),l.s.B.text(l.p.l().hours.pad(2)),l.s.C.text(l.p.l().minutes.pad(2));var a=l.p.l().hours*(Math.PI/6),s=l.p.l().minutes*(Math.PI/30),n=Math.sin(a)*p,i=-Math.cos(a)*p;l.s.q.u=s*(180/Math.PI),l.s.q.v=a*(180/Math.PI),w(n,i)}},Q=function(a){var e=!$(a.target).is(".md-hour");l.s.q.u=l.s.q.v,l.currentView=e?"minutes":"hours";var t=(e?l.s.C.text():l.s.B.text())*(Math.PI/("hours"===l.currentView?6:30)),s=Math.sin(t)*p,n=-Math.cos(t)*p;cssua.ua.ie||l.s.q.classList.add("animate"),$(l.s.q).on(m,function(e){$(l.s.q).off(),cssua.ua.ie||l.s.q.classList.remove("animate")}),l.toggleClass("minute",e),w(s,n)},U=function(e){var t="year"==e?l.s.select_year.find("span:matches("+l.p.l().year+")"):l.s.select_month.find("span[data-month="+l.p.l().month+"]");if(!t.length){for(var n=l.p.l().year-Number(l.s.select_year.children(":first-child").text()),a=1,i=Number(l.s.select_year.children(":first-child").text());n>=a;a++)l.s.select_year.prepend("<span>"+(i+a)+"</span>");t=l.s.select_year.find("span:matches("+l.p.l().year+")")}var s=t.position().top;l.s["select_"+e].children("span").removeClass("md-currentdate"),"year"==e?l.s.select_year.find("span:matches("+l.p.l().year+")").addClass("md-currentdate"):l.s.select_month.find("span[data-month="+l.p.l().month+"]").addClass("md-currentdate"),l.s["select_"+e].hasClass("inview")||l.s["select_"+e].addClass("inview animate"),l.s["select_"+e].stop().animate({scrollTop:s+l.s["select_"+e][0].scrollTop-(l.s["select_"+e][0].clientHeight-48)/2},parseInt(Math.abs(s.O(0,2e3,500,3e3))),"easeInOutExpo"),l.s["select_"+e].on(m,function(){l.s["select_"+e].removeClass("animate")}),l.s["select_"+e].on("mousewheel",function(t){l.s["select_"+e].stop()})},le=function(e){var t=l.range?"next"==e?"start"==l.set&&l.p.l().month<l.end.p.l().month||"start"==l.set&&l.p.l().year!=l.end.p.l().year||"end"==l.set:"end"==l.set&&l.p.l().month>l.start.p.l().month||"end"==l.set&&l.p.l().year!=l.start.p.l().year||"start"==l.set:!0,a="start"==l.set?"end":"start";t&&(l.s.I.off("click"),l.s.P.addClass("animate "+e),"next"==e?l.p.setMonth(l.p.l().month+1):l.p.setMonth(l.p.l().month-1),(l.range&&"start"==l.set&&l.end.p<=l.p||l.range&&"end"==l.set&&l.start.p>=l.p)&&(l.p=new Date(l[a].p),de()),_(),l.s.P.on(m,function(){l.s.current.html(l.s[e].html()),l.s.P.removeClass("animate "+e),u("next"),u("previous"),l.s.P.off(m),l.s.I.on("click",K)}))},de=function(){for(var t=["next","previous"],e=t.length-1;e>=0;e--)l.s[t[e]].find(".md-selecteddate").removeClass("md-selecteddate"),l.s[t[e]].find("span:matches("+l.p.l().day+")").addClass("md-selecteddate")},u=function(i){var r,n,c=l.p.l().month,e=new Date(l.p),o="";"previous"==i?e.setMonth(c-1):"next"==i&&e.setMonth(c+1),r=L[s(e)];for(var u=a(e),t=d.startday;t<r+d.startday;t++)o+="<span></span>";var h=v.l().month==e.l().month&&v.l().year==e.l().year,m="start"==l.set?"end":"start";if(l.range)var p=e.l().month==l[m].p.l().month&&e.l().year==l[m].p.l().year;for(var t=1;u>=t;t++)n=[],l.p.l().day==t&&n.push("md-selecteddate"),v.l().day==t&&h&&n.push("md-currentdate"),(l.range&&"start"==l.set&&t>l.end.p.l().day&&p||l.range&&"end"==l.set&&t<l.start.p.l().day&&p)&&n.push("disabled"),o+="<span"+(n.length>=1?' class="'+n.join(" ")+'"':"")+" >"+t+"</span>";l.s[i].find(".md-month-display").text(e.M(d.language,{month:"long"})),l.s[i].find(".md-year-display").text(e.l().year),l.s[i].find(".md-week").html(o)},l=$($(re).appendTo("body")[0]);if(l.s={},l.K=e,d.timepicker){var y=l.find(".md-clock");b=$(b).appendTo(y)[0],$.extend(l,{A:cssua.ua.ie?$(b).find('[class="lolliclock-canvas-fg"]')[0]:$(b).find(".lolliclock-canvas-fg")[0],canvas:y,D:{}}),l.s.q=b,l.s.q.v=0,l.D.minutes=l.canvas.find(".md-minutes>div"),l.D.hours=l.canvas.find(".md-hours>div"),l.s.B=l.find(".md-hour"),l.s.C=l.find(".md-minute"),l.s.R=l.find(".md-ampm-toggle"),l.currentView="hours",y.on(he,te)}l.s.years=l.find(".year"),l.s.L=l.find(".month"),l.s.N=l.find(".day"),l.s.buttons=l.find(".md-buttons"),l.s.weekday=l.find(".weekday"),l.s.P=l.find(".md-months"),l.s.current=l.find(".md-current-month"),l.s.next=l.find(".md-next-month"),l.s.I=l.find(".md-next").add(l.find(".md-previous")),l.s.select_month=l.find(".month-select"),l.s.select_year=l.find(".year-select"),l.s.previous=l.find(".md-previous-month"),l.s.I.on("click",K),l.on("click",".month-select>span, .year-select>span",function(t){if($(this).data("month")===o?(l.p.setYear($(this).text()),l.s.select_year.off()):(l.p.setMonth($(this).data("month")),l.s.select_month.off()),l.range&&("start"==l.set&&l.end.p<=l.p||"end"==l.set&&l.start.p>=l.p)){var e="start"==l.set?"end":"start";l.p=new Date(l[e].p)}_(),u("current"),$(this).parents(".md-select-wrap").addClass("animate").removeClass("inview").off(m),u("previous"),u("next")}),l.s.L.on("click",function(e){U("month")}),l.s.years.on("click",function(e){U("year")}),l.on("click",".md-week span",function(e){l.s.P.find(".md-selecteddate").removeClass("md-selecteddate"),l.s.P.find("span:matches("+$(this).text()+")").addClass("md-selecteddate"),l.p.setDate($(this).text()),_()}),l.on("click",".md-toggle-state",function(e){l.toggleClass("clockpicker",!l.hasClass("clockpicker"))}),l.on("click",".md-minute, .md-hour",function(e){Q(e)}),l.on("click",".md-pm, .md-am",function(){pe()});var ue=this,C=[];return this.each(function(){this.j=!0,$(this).on("focus",function(e){e.preventDefault(),$(C).removeClass("focused"),$(e.target).addClass("focused"),ue.show(e.target)}),C.push(this),$(this).is("[data-md-start]")&&(l.start=this),$(this).is("[data-md-end]")&&(l.end=this)}).promise().done(function(){if(l.state="ready",C.length>2&&l.start)throw new Error("Only one start and one end Date is allowed");l.S=C})}},$.fn.T=function(a){var e=this.innerWidth(),t=this[0].clientWidth;return e==t?!1:!0}}(jQuery,window,document),Number.prototype.O=function(e,a,t,s){return t+(this-e)*(s-t)/(a-e)},Date.prototype.l=function(){return{year:this.getFullYear(),month:this.getMonth(),hours:this.getHours(),minutes:this.getMinutes(),day:this.getDate(),weekday:this.getDay()}},Date.prototype.M=function(a,e){return t()?this.toLocaleString(a,e):locale[a.split("-")[0]][Object.keys(e)[0]][this.l()[Object.keys(e)]]},Element.prototype.U=function(t){"use strict";for(var e in t)t.hasOwnProperty(e)&&(this instanceof SVGElement||(this[e]=t[e]),this[e]!=t[e]&&this.setAttribute(e,t[e]));return this},Number.prototype.pad=function(t){for(var e=String(this);e.length<(t||2);)e="0"+e;return e},String.prototype.pad=function(t){for(var e=String(this);e.length<(t||2);)e="0"+e;return e},$.expr[":"].matches=$.expr.createPseudo(function(e){return function(t){return $(t).text().match("^"+e+"$")}});
